{% extends 'layouts2/main.html' %}

{% block content %}

<h4 class="page-title mb-4">Expenses</h4>

<div class="row">


    <div class="col-lg-12">
        <div class="card mb-4">
            <div class="card-body">

                <span class="d-flex align-items-center justify-content-center mb-4">
                <form action="" method="POST" class="row gy-2 gx-3 align-items-center">
                    {% csrf_token %}
                    <div class="col-auto">
                        <div class="form-check">
                            <label class="form-check-label">
                                From:
                            </label>
                        </div>
                    </div>
                    <div class="col-auto">
                        <input style='width:150px;' class='form-control datepicker form-control-sm-4'
                               type='text' name='start_date' value='{{form_start_date}}'>
                    </div>
                    <div class="col-auto">
                        <div class="form-check">
                            <label class="form-check-label">
                                To:
                            </label>
                        </div>
                    </div>
                    <div class="col-auto">
                        <input style='width:150px;' class='form-control datepicker form-control-sm-4'
                               type='text' name='end_date' value='{{form_end_date}}'>
                    </div>


                    <div class="col-auto">
                        <button type="submit" class="btn btn-primary">Show</button>
                    </div>
                </form>
 </span>

                <table class="table">


                    {% for data in expenses_list %}

                    <tr>
                        <td>{{ data.entry_date|date:"d/m/Y h:i A" }}</td>
                        <td>{{data.description}}</td>
                        <td>{{data.amount}}</td>
                        <td>{{data.balance}}</td>
                    </tr>

                    {% endfor %}


                </table>


            </div>

        </div>
    </div>


</div>

<div class="row">
    <div class="col-lg-12">
        <div class="card mb-4">
            <div class="card-body">

                {% if finish == 0 %}
                <form method="POST">
                    {% csrf_token %}
                    <div class="row justify-content-center g-3" style="max-width: 900px; margin: 0 auto;">

                        <div class="col-auto">
                            <input type="text" class="form-control datepicker" id="date" value="{{ TODAY }}" disabled>
                        </div>
                        <div class="col-auto">
                            <input type="text" class="form-control" name="description" placeholder="Description">
                        </div>
                        <div class="col-auto">
                            <input type="text" class="form-control" name="amount" placeholder="Amount">
                        </div>
                        <div class="col-auto">
                            <button type="submit" class="btn btn-primary mb-3">Add</button>
                        </div>

                    </div>
                </form>
                {% endif %}

            </div>
        </div>
    </div>
</div>


{% endblock content %}

{% block footer %}
<script>
    $(function() {
    document.querySelector("html").setAttribute("data-layout-mode", 'light_mode');
    document.querySelector("html").setAttribute('data-layout-style', 'modern');
    document.querySelector("html").setAttribute('data-nav-color', 'light');
    });
</script>
{% endblock footer %}